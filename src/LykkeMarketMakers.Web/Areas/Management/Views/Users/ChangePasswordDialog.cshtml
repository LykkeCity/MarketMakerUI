@using System.Threading.Tasks
@using LykkeMarketMakers.Web.Models.ViewComponentsViewModels
@using LykkeMarketMakers.Web.Translates
@using LykkeMarketMakers.Web.ViewComponents
@model LykkeMarketMakers.Web.Areas.Management.Models.ChangePasswordDialogViewModel

@{
    Layout = "~/Views/Shared/_ModalDialogLayout.cshtml";
}

<form id="frmPswd">
    @Html.HiddenFor(m => m.UserId)
    @await Component.InvokeAsync(nameof(InputWithLabelOnTop), new { model = new InputWithLabelModel { Name = "NewPassword", Caption = Phrases.NewPassword, Placeholder = Phrases.NewPassword, Type = "password" } })
    @await Component.InvokeAsync(nameof(InputWithLabelOnTop), new { model = new InputWithLabelModel { Name = "PasswordConfirmation", Caption = Phrases.NewPassword, Placeholder = Phrases.NewPassword, Type = "password", HasFocus = true } })
</form>
<div style="text-align: right;">
    <button id="btnChangePassword" class="btn btn-success btn-raised"
            onclick="Requests.doRequest({ url: '@Url.Action("ChangeUserPassword")', formId: '#frmPswd' })">
        <span class="hideOnRequest glyphicon glyphicon-pencil"></span>
        <img class="showOnRequest" src="~/Images/processing.gif" style="display: none" /> @Phrases.ChangeTheAccessPassword
    </button>
</div>